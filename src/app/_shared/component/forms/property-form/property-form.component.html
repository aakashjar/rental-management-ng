<section class="forms">
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-12">
				<div class="card">
					<div class="card-header d-flex align-items-center">
						<h3 class="h4">{{ formSubject }}</h3>
					</div>
					<div class="card-body">
						<!-- Nav tabs -->
						<ul class="nav nav-pills nav-justified" id="myTab" role="tablist">
							<li class="nav-item" role="presentation">
								<a class="nav-link active" id="basic-details-tab" data-toggle="tab" data-target="#basic-details"
									role="tab" aria-controls="basic-details" aria-selected="true">Basic Details</a>
							</li>
							<li class="nav-item" role="presentation">
								<a class="nav-link" id="location-details-tab" data-toggle="tab" data-target="#location-details"
									role="tab" aria-controls="location-details" aria-selected="false">Location Details</a>
							</li>
							<li class="nav-item" role="presentation">
								<a class="nav-link" id="facilities-amenities-tab" data-toggle="tab" data-target="#facilities-amenities"
									role="tab" aria-controls="facilities-amenities" aria-selected="false">Facilities & Amenities</a>
							</li>
						</ul>
						<!-- Tab panes -->
						<form (ngSubmit)="onSavePropertyData()" [formGroup]="propertyInfoForm">
							<div class="tab-content">
								<div class="tab-pane fade show active mt-3" id="basic-details" role="tabpanel"
									aria-labelledby="basic-details-tab">
									<div class="row">
										<div class="col-md-4">
											<div class="form-group">
												<label class="form-control-label">Property Name</label>
												<input type="text" placeholder="Property Name" class="form-control"
													formControlName="propertyName"
													[ngClass]="{ 'is-invalid': submitted && f.propertyName.errors, 'is-valid': submitted && f.propertyName.valid }">
												<div *ngIf="submitted && f.propertyName.errors" class="invalid-feedback">
													<div *ngIf="f.propertyName.errors.required">Property Name is required</div>
												</div>
											</div>
											<div class="form-group">
												<label class="form-control-label">Select Landlord</label>
												<select class="form-control mb-3" formControlName="landlordId"
													[ngClass]="{ 'is-invalid': submitted && f.landlordId.errors, 'is-valid': submitted && f.landlordId.valid }">
													<option value="" selected disabled>--Select--</option>
													<option *ngFor="let landlordData of availableLandlordDatas" [value]="landlordData.landlordId">
														{{ landlordData.landlordFullName }} ({{landlordData.landlordMobileNumber}})</option>
												</select>
												<div *ngIf="submitted && f.landlordId.errors" class="invalid-feedback">
													<div *ngIf="f.landlordId.errors.required">Landlord is required</div>
												</div>
											</div>
											<div class="form-group">
												<label class="form-control-label">Deposit</label>
												<div class="input-group">
													<div class="input-group-prepend"><span class="input-group-text">₹</span></div>
													<input type="number" placeholder="Deposit" class="form-control"
														formControlName="propertyDeposit"
														[ngClass]="{ 'is-invalid': submitted && f.propertyDeposit.errors, 'is-valid': submitted && f.propertyDeposit.valid }">
													<div *ngIf="submitted && f.propertyDeposit.errors" class="invalid-feedback">
														<div *ngIf="f.propertyDeposit.errors.required">Deposit is required</div>
														<div *ngIf="f.propertyDeposit.errors.min">Deposit must be atleast 0</div>
													</div>
												</div>
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<label class="form-control-label">Rent</label>
												<div class="input-group">
													<div class="input-group-prepend"><span class="input-group-text">₹</span></div>
													<input type="number" placeholder="Rent" class="form-control" formControlName="propertyRent"
														[ngClass]="{ 'is-invalid': submitted && f.propertyRent.errors, 'is-valid': submitted && f.propertyRent.valid }">
													<div *ngIf="submitted && f.propertyRent.errors" class="invalid-feedback">
														<div *ngIf="f.propertyRent.errors.required">Rent is required</div>
														<div *ngIf="f.propertyRent.errors.min">Rent must be atleast 0</div>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="form-control-label">Area</label>
												<div class="input-group">
													<input type="number" placeholder="Area" class="form-control" formControlName="propertyArea"
														[ngClass]="{ 'is-invalid': submitted && f.propertyArea.errors, 'is-valid': submitted && f.propertyArea.valid }">
													<div class="input-group-append"><span class="input-group-text">Sq. ft.</span></div>
													<div *ngIf="submitted && f.propertyArea.errors" class="invalid-feedback">
														<div *ngIf="f.propertyArea.errors.required">Area is required</div>
														<div *ngIf="f.propertyArea.errors.min">Area must be atleast 0</div>
													</div>
												</div>
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<label class="form-control-label">Type</label>
												<select class="form-control mb-3" formControlName="propertyType"
													[ngClass]="{ 'is-invalid': submitted && f.propertyType.errors, 'is-valid': submitted && f.propertyType.valid }">
													<option value="" selected disabled>--Select--</option>
													<option value="Mansion">Mansion</option>
													<option value="Villa">Villa</option>
													<option value="Bungalow">Bungalow</option>
													<option value="Apartment">Apartment</option>
												</select>
												<div *ngIf="submitted && f.propertyType.errors" class="invalid-feedback">
													<div *ngIf="f.propertyType.errors.required">Type is required</div>
												</div>
											</div>
											<div class="form-group">
												<label class="form-control-label">Agency Commission</label>
												<div class="input-group">
													<input type="number" placeholder="Agency Commission" class="form-control"
														formControlName="propertyAgencyCommission"
														[ngClass]="{ 'is-invalid': submitted && f.propertyAgencyCommission.errors, 'is-valid': submitted && f.propertyAgencyCommission.valid }">
													<div class="input-group-append"><span class="input-group-text">%</span></div>
													<div *ngIf="submitted && f.propertyAgencyCommission.errors" class="invalid-feedback">
														<div *ngIf="f.propertyAgencyCommission.errors.required">Commission is required</div>
														<div *ngIf="f.propertyAgencyCommission.errors.min">Commission must be atleast 0</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label class="form-control-label">Description</label>
												<textarea placeholder="Description" class="form-control" formControlName="propertyDescription"
													[ngClass]="{ 'is-invalid': submitted && f.propertyDescription.errors, 'is-valid': submitted && f.propertyDescription.valid }"></textarea>
												<div *ngIf="submitted && f.propertyDescription.errors" class="invalid-feedback">
													<div *ngIf="f.propertyDescription.errors.required">Description is required</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="tab-pane fade mt-3" id="location-details" role="tabpanel"
									aria-labelledby="location-details-tab">
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label class="form-control-label">Address</label>
												<input type="text" placeholder="Address" class="form-control" formControlName="propertyAddress"
													[ngClass]="{ 'is-invalid': submitted && f.propertyAddress.errors, 'is-valid': submitted && f.propertyAddress.valid }">
												<div *ngIf="submitted && f.propertyAddress.errors" class="invalid-feedback">
													<div *ngIf="f.propertyAddress.errors.required">Address is required</div>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-6">
											<div class="form-group">
												<label class="form-control-label">City</label>
												<input type="text" placeholder="City" class="form-control" formControlName="propertyCity"
													[ngClass]="{ 'is-invalid': submitted && f.propertyCity.errors, 'is-valid': submitted && f.propertyCity.valid }">
												<div *ngIf="submitted && f.propertyCity.errors" class="invalid-feedback">
													<div *ngIf="f.propertyCity.errors.required">City is required</div>
												</div>
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<label class="form-control-label">State</label>
												<input type="text" placeholder="State" class="form-control" formControlName="propertyState"
													[ngClass]="{ 'is-invalid': submitted && f.propertyState.errors, 'is-valid': submitted && f.propertyState.valid }">
												<div *ngIf="submitted && f.propertyState.errors" class="invalid-feedback">
													<div *ngIf="f.propertyState.errors.required">Occupation Place is required</div>
												</div>
											</div>
										</div>
										<div class="col-md-2">
											<div class="form-group">
												<label class="form-control-label">Pin Code</label>
												<input type="text" placeholder="Pin Code" class="form-control" formControlName="propertyPincode"
													[ngClass]="{ 'is-invalid': submitted && f.propertyPincode.errors, 'is-valid': submitted && f.propertyPincode.valid }">
												<div *ngIf="submitted && f.propertyPincode.errors" class="invalid-feedback">
													<div *ngIf="f.propertyPincode.errors.required">Occupation Place is required</div>
													<div *ngIf="f.propertyPincode.errors.pattern">Must be a Pin Code</div>
													<div *ngIf="f.propertyPincode.errors.min">Must be atleast 6 digits</div>
													<div *ngIf="f.propertyPincode.errors.max">Must be atmost 6 digits</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="tab-pane fade mt-3" id="facilities-amenities" role="tabpanel"
									aria-labelledby="facilities-amenities-tab">
									<div class="row">
										<div class="col-md-12">
											<div class="form-group">
												<label class="form-control-label">Property Notes</label>
												<textarea placeholder="Property Notes" class="form-control" formControlName="propertyNotes"
													[ngClass]="{ 'is-invalid': submitted && f.propertyNotes.errors, 'is-valid': submitted && f.propertyNotes.valid }"></textarea>
												<div *ngIf="submitted && f.propertyNotes.errors" class="invalid-feedback">
													<div *ngIf="f.propertyNotes.errors.required">Notes is required</div>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-3">
											<div class="form-group">
												<label class="form-control-label">Property Age</label>
												<select class="form-control mb-3" formControlName="propertyAge"
													[ngClass]="{ 'is-invalid': submitted && f.propertyAge.errors, 'is-valid': submitted && f.propertyAge.valid }">
													<option value="" selected disabled>--Select--</option>
													<option value="0 - 5 Years">0 - 5 Years</option>
													<option value="6 - 10 Years">6 - 10 Years</option>
													<option value="11 - 15 Years">11 - 15 Years</option>
													<option value="16 - 20 Years">16 - 20 Years</option>
													<option value="20+ Years">20+ Years</option>
												</select>
												<div *ngIf="submitted && f.propertyAge.errors" class="invalid-feedback">
													<div *ngIf="f.propertyAge.errors.required">Age is required</div>
												</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label class="form-control-label">Rooms</label>
												<select class="form-control mb-3" formControlName="propertyRooms"
													[ngClass]="{ 'is-invalid': submitted && f.propertyRooms.errors, 'is-valid': submitted && f.propertyRooms.valid }">
													<option value="" selected disabled>--Select--</option>
													<option value="1">1</option>
													<option value="2">2</option>
													<option value="3">3</option>
													<option value="4">4</option>
													<option value="5">5</option>
												</select>
												<div *ngIf="submitted && f.propertyRooms.errors" class="invalid-feedback">
													<div *ngIf="f.propertyRooms.errors.required">Rooms are required</div>
												</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label class="form-control-label">Bedrooms</label>
												<select class="form-control mb-3" formControlName="propertyBedrooms"
													[ngClass]="{ 'is-invalid': submitted && f.propertyBedrooms.errors, 'is-valid': submitted && f.propertyBedrooms.valid }">
													<option value="" selected disabled>--Select--</option>
													<option value="1">1</option>
													<option value="2">2</option>
													<option value="3">3</option>
													<option value="4">4</option>
													<option value="5">5</option>
												</select>
												<div *ngIf="submitted && f.propertyBedrooms.errors" class="invalid-feedback">
													<div *ngIf="f.propertyBedrooms.errors.required">Bedrooms are required</div>
												</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<label class="form-control-label">Bathrooms</label>
												<select class="form-control mb-3" formControlName="propertyBathrooms"
													[ngClass]="{ 'is-invalid': submitted && f.propertyBathrooms.errors, 'is-valid': submitted && f.propertyBathrooms.valid }">
													<option value="" selected disabled>--Select--</option>
													<option value="1">1</option>
													<option value="2">2</option>
													<option value="3">3</option>
													<option value="4">4</option>
													<option value="5">5</option>
												</select>
												<div *ngIf="submitted && f.propertyBathrooms.errors" class="invalid-feedback">
													<div *ngIf="f.propertyBathrooms.errors.required">Bathrooms are required</div>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-md-3">
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" id="propertyHasAirConditioner"
													formControlName="propertyHasAirConditioner"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasAirConditioner.errors, 'is-valid': submitted && f.propertyHasAirConditioner.valid }">
												<label class="form-control-label" for="propertyHasAirConditioner">Air Conditioner</label>
												<div *ngIf="submitted && f.propertyHasAirConditioner.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasAirConditioner.errors.required">is required</div>
												</div>
											</div>
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" id="propertyHasCarParking"
													formControlName="propertyHasCarParking"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasCarParking.errors, 'is-valid': submitted && f.propertyHasCarParking.valid }">
												<label class="form-control-label" for="propertyHasCarParking">Car Parking</label>
												<div *ngIf="submitted && f.propertyHasCarParking.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasCarParking.errors.required">is required</div>
												</div>
											</div>
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" id="propertyHasLaundryRoom"
													formControlName="propertyHasLaundryRoom"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasLaundryRoom.errors, 'is-valid': submitted && f.propertyHasLaundryRoom.valid }">
												<label class="form-control-label" for="propertyHasLaundryRoom">Laundry Room</label>
												<div *ngIf="submitted && f.propertyHasLaundryRoom.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasLaundryRoom.errors.required">is required</div>
												</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" id="propertyHasHeating"
													formControlName="propertyHasHeating"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasHeating.errors, 'is-valid': submitted && f.propertyHasHeating.valid }">
												<label class="form-control-label" for="propertyHasHeating">Heating</label>
												<div *ngIf="submitted && f.propertyHasHeating.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasHeating.errors.required">is required</div>
												</div>
											</div>
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" id="propertyHasBalcony"
													formControlName="propertyHasBalcony"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasBalcony.errors, 'is-valid': submitted && f.propertyHasBalcony.valid }">
												<label class="form-control-label" for="propertyHasBalcony">Balcony</label>
												<div *ngIf="submitted && f.propertyHasBalcony.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasBalcony.errors.required">is required</div>
												</div>
											</div>
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" id="propertyHasGym"
													formControlName="propertyHasGym"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasGym.errors, 'is-valid': submitted && f.propertyHasGym.valid }">
												<label class="form-control-label" for="propertyHasGym">Gym</label>
												<div *ngIf="submitted && f.propertyHasGym.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasGym.errors.required">is required</div>
												</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" formControlName="propertyHasInternet"
													id="propertyHasInternet"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasInternet.errors, 'is-valid': submitted && f.propertyHasInternet.valid }">
												<label class="form-control-label" for="propertyHasInternet">Internet</label>
												<div *ngIf="submitted && f.propertyHasInternet.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasInternet.errors.required">is required</div>
												</div>
											</div>
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" id="propertyHasGarden"
													formControlName="propertyHasGarden"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasGarden.errors, 'is-valid': submitted && f.propertyHasGarden.valid }">
												<label class="form-control-label" for="propertyHasGarden">Garden</label>
												<div *ngIf="submitted && f.propertyHasGarden.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasGarden.errors.required">is required</div>
												</div>
											</div>
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" id="propertyHasAntiTheftAlarm"
													formControlName="propertyHasAntiTheftAlarm"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasAntiTheftAlarm.errors, 'is-valid': submitted && f.propertyHasAntiTheftAlarm.valid }">
												<label class="form-control-label" for="propertyHasAntiTheftAlarm">Alarm</label>
												<div *ngIf="submitted && f.propertyHasAntiTheftAlarm.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasAntiTheftAlarm.errors.required">is required</div>
												</div>
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" formControlName="propertyHasSwimmingPool"
													id="propertyHasSwimmingPool"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasSwimmingPool.errors, 'is-valid': submitted && f.propertyHasSwimmingPool.valid }">
												<label class="form-control-label" for="propertyHasSwimmingPool">Swimming Pool</label>
												<div *ngIf="submitted && f.propertyHasSwimmingPool.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasSwimmingPool.errors.required">is required</div>
												</div>
											</div>
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" formControlName="propertyHasPetsAllowed"
													id="propertyHasPetsAllowed"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasPetsAllowed.errors, 'is-valid': submitted && f.propertyHasPetsAllowed.valid }">
												<label class="form-control-label" for="propertyHasPetsAllowed">Pets Allowed?</label>
												<div *ngIf="submitted && f.propertyHasPetsAllowed.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasPetsAllowed.errors.required">is required</div>
												</div>
											</div>
											<div class="form-group">
												<input type="checkbox" class="checkbox-template" formControlName="propertyHasCctvCameras"
													id="propertyHasCctvCameras"
													[ngClass]="{ 'is-invalid': submitted && f.propertyHasCctvCameras.errors, 'is-valid': submitted && f.propertyHasCctvCameras.valid }">
												<label class="form-control-label" for="propertyHasCctvCameras">CCTV Cameras</label>
												<div *ngIf="submitted && f.propertyHasCctvCameras.errors" class="invalid-feedback">
													<div *ngIf="f.propertyHasCctvCameras.errors.required">is required</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="form-inline justify-content-end">
								<div class="form-group mr-2">
									<button type="submit" class="btn btn-success" [disabled]="buttonDisable">
										{{buttonDisable ? 'Please Wait...' : 'Save'}}</button>
								</div>
								<div class="form-group" *ngIf="action === 'register'">
									<button type="reset" class="btn btn-danger" (click)="onResetPropertyForm()">Reset</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>